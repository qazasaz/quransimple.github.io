<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
	</head>
	<body>
		<p dir="rtl">چرخۀ عدد آیات در قرآن</p>
		<table>
		</table>

		<style>
		body {
			font-size: 130%;
			font-family: tahoma;
		}
		td {
			border: 1px solid black;
			text-align: center;
			padding: 5px;
		}
		p {
			text-align: center;
		}
		</style>
		<script>
			//GLOBAL VARIABLES
			//================
			let suraLength = [7, 286, 200, 176, 120, 165, 206, 75, 129, 109, 123, 111, 43, 52, 99, 128, 111, 110, 98, 135, 112, 78, 118, 64, 77, 227, 93, 88, 69, 60, 34, 30, 73, 54, 45, 83, 182, 88, 75, 85, 54, 53, 89, 59, 37, 35, 38, 29, 18, 45, 60, 49, 62, 55, 78, 96, 29, 22, 24, 13, 14, 11, 11, 18, 12, 12, 30, 52, 52, 44, 28, 28, 20, 56, 40, 31, 50, 40, 46, 42, 29, 19, 36, 25, 22, 17, 19, 26, 30, 20, 15, 21, 11, 8, 8, 19, 5, 8, 8, 11,11,8,3,9,5,4,7,3,6,3,5,4,5,6];
			let table = document.querySelector("table");

			//CREATE FIRST COLUMN
			//===================
			for(let j = 1; j < 287; j++) {
				let this_tr = document.createElement("tr");
				table.appendChild(this_tr);
				let this_td = document.createElement("td");
				this_td.appendChild(document.createTextNode(j));
				this_tr.appendChild(this_td);
			}

			//CREATE ALL COLUMNS
			//===================
			let rows_status_done = false;

			for(let n = 0; n < 20; n++) {	
				for(let i = 0; i < table.children.length; i++) {
					let last_td = table.children[i].lastElementChild.innerHTML;
					let next_td = document.createElement("td");
					let repetition = 0;
					for(let j = 0; j < suraLength.length; j++) {
						if(last_td <= suraLength[j]) {
							repetition = repetition + 1;
						}
					}
					if(table.children[i].children.length <= 2) {
						next_td.appendChild(document.createTextNode(repetition));
						table.children[i].appendChild(next_td);
					} else {
						let td_to_check = table.children[i].children[table.children[i].children.length - 2].innerHTML;
						if(td_to_check != repetition) {
							next_td.appendChild(document.createTextNode(repetition));
							table.children[i].appendChild(next_td);
						}
					}

				}
			}

			//STYLING PAIR NUMBERS
			//====================
			for(let i = 0; i < table.children.length; i++) {
				let last_td = table.children[i].lastElementChild;
				let one_before_the_td = table.children[i].children[table.children[i].children.length - 2];
				if(last_td.innerHTML == 39 && one_before_the_td.innerHTML == 57 || last_td.innerHTML == 57 && one_before_the_td.innerHTML == 39 ) {
					last_td.style.backgroundColor = "rgb(200,60,134)";
					one_before_the_td.style.backgroundColor = "rgb(200,60,134)";
				}
				if(last_td.innerHTML == 55 && one_before_the_td.innerHTML == 41 || last_td.innerHTML == 41 && one_before_the_td.innerHTML == 55 ) {
					last_td.style.backgroundColor = "rgb(148,108,244)";
					one_before_the_td.style.backgroundColor = "rgb(148,108,244)";
				}
				if(last_td.innerHTML == 54 && one_before_the_td.innerHTML == 43 || last_td.innerHTML == 43 && one_before_the_td.innerHTML == 54 ) {
					last_td.style.backgroundColor = "rgb(18,66,167)";
					one_before_the_td.style.backgroundColor = "rgb(18,66,167)";
				}
				if(last_td.innerHTML == 53 && one_before_the_td.innerHTML == 44 || last_td.innerHTML == 44 && one_before_the_td.innerHTML == 53 ) {
					last_td.style.backgroundColor = "rgb(239,45,23)";
					one_before_the_td.style.backgroundColor = "rgb(239,45,23)";
				}
				if(last_td.innerHTML == 49) {
					last_td.style.backgroundColor = "rgb(124,1,7)";
					one_before_the_td.style.backgroundColor = "rgb(124,1,7)";
				}
			}
		</script>
	</body>
</html>